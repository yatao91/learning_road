## sshåŽŸç†ä¸Žåº”ç”¨

#### ç®€ä»‹

> `SSH`å®‰å…¨å¤–å£³åè®®`Secure Shell`æ˜¯ä¸€ç§åŠ å¯†çš„ç½‘ç»œä¼ è¾“åè®®ï¼Œå¯åœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸­ä¸ºç½‘ç»œæœåŠ¡æä¾›å®‰å…¨çš„ä¼ è¾“çŽ¯å¢ƒã€‚`SSH`é€šè¿‡åœ¨ç½‘ç»œä¸­åˆ›å»º**å®‰å…¨éš§é“**æ¥å®žçŽ°`SSH`å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ä¹‹é—´çš„è¿žæŽ¥ã€‚
>
> `SSH`æ˜¯åº”ç”¨å±‚åè®®ã€‚
>
> é€šå¸¸ç”¨é€”ï¼šä¼ è¾“å‘½ä»¤è¡Œç•Œé¢å’Œè¿œç¨‹æ‰§è¡Œå‘½ä»¤ã€‚
>
> åœ¨è®¾è®¡ä¸Šï¼Œ`SSH`æ˜¯`Telnet`å’Œéžå®‰å…¨`shell`çš„æ›¿ä»£å“ã€‚`Telnet`å’Œ`rlogin/rsh/rexec`ç­‰é‡‡ç”¨æ˜Žæ–‡ä¼ è¾“ï¼Œä½¿ç”¨ä¸å¯é çš„å¯†ç ï¼Œå®¹æ˜“é­åˆ°ç›‘å¬ã€å—…æŽ¢å’Œä¸­é—´äººæ”»å‡»ã€‚`SSH`æ—¨åœ¨ä¿è¯åœ¨éžå®‰å…¨çš„ç½‘ç»œçŽ¯å¢ƒä¸­ä¿¡æ¯åŠ å¯†å®Œæ•´å¯é ã€‚
>
> ä¸è¿‡ï¼Œ`SSH`å¹¶éžç»å¯¹å®‰å…¨çš„ã€‚

#### æ¦‚è¿°

> `SSH`ä»¥éžå¯¹ç§°åŠ å¯†å®žçŽ°èº«ä»½éªŒè¯ã€‚èº«ä»½éªŒè¯æœ‰å¤šç§é€”å¾„ï¼Œä¾‹å¦‚å…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„å…¬é’¥-ç§é’¥å¯¹æ¥ç®€å•åœ°åŠ å¯†ç½‘ç»œè¿žæŽ¥ï¼ŒéšåŽä½¿ç”¨å¯†ç è®¤è¯è¿›è¡Œç™»å½•ï¼›å¦ä¸€ç§æ–¹æ³•æ˜¯äººå·¥ç”Ÿæˆä¸€å¯¹å…¬é’¥å’Œç§é’¥ï¼Œé€šè¿‡ç”Ÿæˆçš„å¯†é’¥è¿›è¡Œè®¤è¯ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸è¾“å…¥å¯†ç çš„æƒ…å†µä¸‹ç™»å½•ã€‚ä»»ä½•äººéƒ½å¯ä»¥è‡ªè¡Œç”Ÿæˆå¯†é’¥ã€‚å…¬é’¥éœ€è¦æ”¾åœ¨å¾…è®¿é—®çš„è®¡ç®—æœºä¹‹ä¸­ï¼Œè€Œå¯¹åº”çš„ç§é’¥éœ€è¦ç”±ç”¨æˆ·è‡ªè¡Œä¿ç®¡ã€‚è®¤è¯è¿‡ç¨‹åŸºäºŽç”Ÿæˆå‡ºæ¥çš„ç§é’¥ï¼Œä½†æ•´ä¸ªè®¤è¯è¿‡ç¨‹ä¸­ç§é’¥æœ¬èº«ä¸ä¼šä¼ è¾“åˆ°ç½‘ç»œä¸­ã€‚

#### å¯†é’¥ç®¡ç†

> åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œå·²è®¸å¯ç™»å½•çš„å…¬é’¥é€šå¸¸ä¿å­˜åœ¨ç”¨æˆ·`/home`ç›®å½•çš„`~/.ssh/authorized_keys`æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶åªç”±SSHä½¿ç”¨ã€‚
>
> å½“è¿œç¨‹æœºå™¨æŒæœ‰å…¬é’¥ï¼Œæœ¬åœ°æŒæœ‰ç§é’¥æ—¶ï¼Œç™»å½•è¿‡ç¨‹ä¸éœ€è¦æ‰‹åŠ¨è¾“å…¥å¯†ç ã€‚
>
> ä¸ºäº†é¢å¤–çš„å®‰å…¨ï¼Œç§é’¥æœ¬èº«ä¹Ÿèƒ½ç”¨å¯†ç ä¿æŠ¤ã€‚
>
> `ssh-keygen`æ˜¯ç”Ÿæˆå¯†é’¥çš„å·¥å…·ä¹‹ä¸€ã€‚
>
> `SSH`ä¹Ÿæ”¯æŒåŸºäºŽå¯†ç çš„èº«ä»½éªŒè¯ï¼Œæ­¤æ—¶å¯†é’¥æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ã€‚
>
> ä¸­é—´äººæ”»å‡»ï¼šè‹¥å®¢æˆ·ç«¯ä¸ŽæœåŠ¡ç«¯ä»Žæœªè¿›è¡Œèº«ä»½éªŒè¯ï¼Œ`SSH`æœªè®°å½•æœåŠ¡ç«¯æ‰€ä½¿ç”¨çš„å¯†é’¥ï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯ä»¥æ¨¡ä»¿æœåŠ¡å™¨ç«¯è¯·æ±‚å¹¶èŽ·å–å¯†ç ã€‚ä½†æ˜¯å¯†ç è®¤è¯å¯ä»¥ç¦ç”¨ï¼Œè€Œä¸”`SSH`å®¢æˆ·ç«¯åœ¨å‘çŽ°æ–°å¯†é’¥æˆ–æœªçŸ¥æœåŠ¡å™¨æ—¶ä¼šå‘ç”¨æˆ·å‘å‡ºè­¦å‘Šã€‚

#### åº”ç”¨

> SSHçš„ç»å…¸ç”¨é€”ï¼šç™»å½•åˆ°è¿œç¨‹è®¡ç®—æœºä¸­æ‰§è¡Œå‘½ä»¤ã€‚
>
> æ­¤å¤–ï¼ŒSSHä¹Ÿæ”¯æŒéš§é“åè®®ã€ç«¯å£æ˜ å°„å’ŒX11è¿žæŽ¥ã€‚å€ŸåŠ©SFTPæˆ–SCPåè®®è¿˜å¯ä»¥ä¼ è¾“æ–‡ä»¶ã€‚
>
> SSHä½¿ç”¨C/Sæ¨¡åž‹ã€‚æœåŠ¡å™¨ç«¯éœ€è¦å¼€å¯SSHå®ˆæŠ¤è¿›ç¨‹ï¼ˆSSHæœåŠ¡ï¼‰ä»¥ä¾¿æŽ¥å—è¿œç«¯çš„è¿žæŽ¥ï¼Œè€Œç”¨æˆ·éœ€è¦ä½¿ç”¨SSHå®¢æˆ·ç«¯ä¸Žå…¶åˆ›å»ºè¿žæŽ¥ã€‚SSHæœåŠ¡ä½¿ç”¨22ç«¯å£ã€‚

#### åŸºæœ¬æž¶æž„

> SSHåè®®æ¡†æž¶æœ€ä¸»è¦çš„éƒ¨åˆ†æ˜¯ä¸‰ä¸ªåè®®ï¼š
>
> 1. **ä¼ è¾“å±‚åè®®**ï¼ˆThe Transport Layer Protocolï¼‰ï¼šä¼ è¾“å±‚åè®®æä¾›æœåŠ¡å™¨è®¤è¯ï¼Œæ•°æ®æœºå¯†æ€§ï¼Œä¿¡æ¯å®Œæ•´æ€§ç­‰çš„æ”¯æŒã€‚
> 2. **ç”¨æˆ·è®¤è¯åè®®**ï¼ˆThe User Authentication Protocolï¼‰ï¼šç”¨æˆ·è®¤è¯åè®®ä¸ºæœåŠ¡å™¨æä¾›å®¢æˆ·ç«¯çš„èº«ä»½é‰´åˆ«ã€‚
> 3. **è¿žæŽ¥åè®®**ï¼ˆThe Connection Protocolï¼‰ï¼šè¿žæŽ¥åè®®å°†åŠ å¯†çš„ä¿¡æ¯éš§é“å¤ç”¨æˆè‹¥å¹²ä¸ªé€»è¾‘é€šé“ï¼Œæä¾›ç»™æ›´é«˜å±‚çš„åº”ç”¨åè®®ä½¿ç”¨ã€‚

#### SSHçš„å®‰å…¨éªŒè¯

> åœ¨å®¢æˆ·ç«¯çœ‹æ¥ï¼ŒSSHæä¾›ä¸¤ç§çº§åˆ«çš„å®‰è£…éªŒè¯
>
> - ç¬¬ä¸€ç§çº§åˆ«ï¼ˆåŸºäºŽå¯†ç çš„å®‰å…¨éªŒè¯ï¼‰çŸ¥é“è´¦å·å’Œå¯†ç å³å¯ç™»å½•è¿œç¨‹ä¸»æœºï¼Œå¹¶ä¸”æ‰€æœ‰ä¼ è¾“æ•°æ®éƒ½ä¼šè¢«åŠ å¯†ã€‚ä½†æ˜¯ï¼Œå¯èƒ½ä¼šæœ‰åˆ«çš„æœåŠ¡å™¨å†’å……çœŸæ­£çš„æœåŠ¡å™¨ï¼Œæ— æ³•é¿å…"ä¸­é—´äºº"æ”»å‡»ã€‚
> - ç¬¬äºŒç§çº§åˆ«ï¼ˆåŸºäºŽå¯†é’¥çš„å®‰å…¨è®¤è¯ï¼‰éœ€è¦ä¾é å¯†é’¥ï¼Œä¹Ÿå°±æ˜¯ä½ å¿…é¡»ä¸ºè‡ªå·±åˆ›å»ºä¸€å¯¹å¯†é’¥ï¼Œå¹¶æŠŠå…¬æœ‰å¯†é’¥æ”¾åœ¨éœ€è¦è®¿é—®çš„æœåŠ¡å™¨ä¸Šã€‚å®¢æˆ·ç«¯è½¯ä»¶ä¼šå‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¯·æ±‚ç”¨ä½ çš„å¯†é’¥è¿›è¡Œå®‰å…¨éªŒè¯ã€‚æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä¹‹åŽï¼Œå…ˆåœ¨ä½ åœ¨è¯¥æœåŠ¡å™¨çš„ç”¨æˆ·æ ¹ç›®å½•ä¸‹å¯»æ‰¾ä½ çš„å…¬æœ‰å¯†é’¥ï¼Œç„¶åŽæŠŠå®ƒå’Œä½ å‘é€è¿‡æ¥çš„å…¬æœ‰å¯†é’¥è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æžœä¸¤ä¸ªå¯†é’¥ä¸€è‡´ï¼ŒæœåŠ¡å™¨å°±ç”¨å…¬æœ‰å¯†é’¥åŠ å¯†â€œè´¨è¯¢â€ï¼ˆchallengeï¼‰å¹¶æŠŠå®ƒå‘é€ç»™å®¢æˆ·ç«¯è½¯ä»¶ã€‚ä»Žè€Œé¿å…è¢«â€œä¸­é—´äººâ€æ”»å‡»ã€‚
>
> åœ¨æœåŠ¡å™¨ç«¯ï¼ŒSSHä¹Ÿæä¾›å®‰å…¨éªŒè¯ã€‚ åœ¨ç¬¬ä¸€ç§æ–¹æ¡ˆä¸­ï¼Œä¸»æœºå°†è‡ªå·±çš„å…¬ç”¨å¯†é’¥åˆ†å‘ç»™ç›¸å…³çš„å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯åœ¨è®¿é—®ä¸»æœºæ—¶åˆ™ä½¿ç”¨è¯¥ä¸»æœºçš„å…¬å¼€å¯†é’¥æ¥åŠ å¯†æ•°æ®ï¼Œä¸»æœºåˆ™ä½¿ç”¨è‡ªå·±çš„ç§æœ‰å¯†é’¥æ¥è§£å¯†æ•°æ®ï¼Œä»Žè€Œå®žçŽ°ä¸»æœºå¯†é’¥è®¤è¯ï¼Œç¡®ä¿æ•°æ®çš„ä¿å¯†æ€§ã€‚ åœ¨ç¬¬äºŒç§æ–¹æ¡ˆä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå¯†é’¥è®¤è¯ä¸­å¿ƒï¼Œæ‰€æœ‰æä¾›æœåŠ¡çš„ä¸»æœºéƒ½å°†è‡ªå·±çš„å…¬å¼€å¯†é’¥æäº¤ç»™è®¤è¯ä¸­å¿ƒï¼Œè€Œä»»ä½•ä½œä¸ºå®¢æˆ·ç«¯çš„ä¸»æœºåˆ™åªè¦ä¿å­˜ä¸€ä»½è®¤è¯ä¸­å¿ƒçš„å…¬å¼€å¯†é’¥å°±å¯ä»¥äº†ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œå®¢æˆ·ç«¯å¿…é¡»è®¿é—®è®¤è¯ä¸­å¿ƒç„¶åŽæ‰èƒ½è®¿é—®æœåŠ¡å™¨ä¸»æœºã€‚

#### SSHåŸºæœ¬ä½¿ç”¨

> ```
> SSHä¸»è¦ç”¨äºŽè¿œç¨‹ç™»å½•
> 
> # å‡å®šä»¥ç”¨æˆ·åuserï¼Œç™»å½•è¿œç¨‹ä¸»æœºhostï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
> $ ssh user@host
> 
> # å¦‚æžœæœ¬åœ°ç”¨æˆ·åä¸Žè¿œç¨‹ç”¨æˆ·åä¸€è‡´ï¼Œç™»å½•æ—¶å¯ä»¥çœç•¥ç”¨æˆ·åã€‚
> $ ssh host
> 
> # SSHçš„é»˜è®¤ç«¯å£æ˜¯22ï¼Œç™»å½•è¯·æ±‚ä¼šé€è¿›è¿œç¨‹ä¸»æœºçš„22ç«¯å£ã€‚
> # ä½¿ç”¨på‚æ•°ï¼Œå¯ä»¥ä¿®æ”¹è¿™ä¸ªç«¯å£
> $ ssh -p 2222 user@port  # è¡¨æ˜Žsshç›´æŽ¥è¿žæŽ¥è¿œç¨‹ä¸»æœºçš„2222ç«¯å£
> ```

#### ä¸­é—´äººæ”»å‡»

> SSHä¹‹æ‰€ä»¥èƒ½å¤Ÿä¿è¯å®‰å…¨ï¼ŒåŽŸå› åœ¨äºŽå®ƒé‡‡ç”¨äº†å…¬é’¥åŠ å¯†ã€‚
>
> æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š
>
> 1. è¿œç¨‹ä¸»æœºæ”¶åˆ°ç”¨æˆ·çš„ç™»å½•è¯·æ±‚ï¼ŒæŠŠè‡ªå·±çš„å…¬é’¥å‘ç»™ç”¨æˆ·ï¼›
> 2. ç”¨æˆ·ä½¿ç”¨è¿™ä¸ªå…¬é’¥å°†ç™»å½•å¯†ç åŠ å¯†åŽï¼Œå‘é€å›žæ¥ï¼›
> 3. è¿œç¨‹ä¸»æœºä½¿ç”¨è‡ªå·±çš„ç§é’¥ï¼Œè§£å¯†ç™»å½•å¯†ç ï¼Œå¦‚æžœå¯†ç æ­£ç¡®ï¼Œå°±åŒæ„ç”¨æˆ·ç™»å½•ã€‚
>
> è¿™ä¸ªè¿‡ç¨‹æœ¬èº«æ˜¯å®‰å…¨çš„ï¼Œä½†å­˜åœ¨ä¸€ä¸ªé£Žé™©ï¼š
>
> å¦‚æžœæœ‰äººæˆªèŽ·äº†ç™»å½•è¯·æ±‚ï¼Œç„¶åŽå†’å……è¿œç¨‹ä¸»æœºï¼Œå°†ä¼ªé€ çš„å…¬é’¥å‘ç»™ç”¨æˆ·ï¼Œé‚£ä¹ˆç”¨æˆ·å¾ˆéš¾è¾¨è®¤çœŸä¼ªã€‚å› ä¸ºä¸åƒHTTPSåè®®ï¼ŒSSHåè®®çš„å…¬é’¥æ˜¯æ²¡æœ‰è¯ä¹¦ä¸­å¿ƒï¼ˆCAï¼‰å…¬è¯çš„ï¼Œä¹Ÿå°±æ˜¯éƒ½æ˜¯è‡ªå·±ç­¾å‘çš„ã€‚
>
> å¯ä»¥æƒ³è±¡ï¼Œå¦‚æžœæ”»å‡»è€…æ’åœ¨ç”¨æˆ·å’Œè¿œç¨‹ä¸»æœºä¹‹é—´ï¼ˆæ¯”å¦‚åœ¨å…¬å…±çš„Wi-FiåŒºåŸŸï¼‰ï¼Œç”¨ä¼ªé€ çš„å…¬é’¥ï¼ŒèŽ·å–ç”¨æˆ·çš„ç™»å½•å¯†ç ã€‚å†ç”¨è¿™ä¸ªå¯†ç ç™»å½•è¿œç¨‹ä¸»æœºï¼Œé‚£ä¹ˆSSHçš„å®‰å…¨æœºåˆ¶å°±å½¢åŒæ‘†è®¾äº†ã€‚
>
> è¿™ç§é£Žé™©å°±æ˜¯è‘—åçš„"ä¸­é—´äººæ”»å‡»ï¼ˆMan-in-the-middle attackï¼‰"ã€‚

#### SSHå…å¯†ç™»å½•

> å…å¯†ç™»å½•ï¼šå°±æ˜¯ä¸éœ€è¦äººå·¥è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚
>
> SSHå…å¯†ç™»å½•é€šè¿‡è¯ä¹¦è¿›è¡Œé‰´æƒã€‚
>
> è¯ä¹¦åˆ†ä¸ºå…¬é’¥å’Œç§é’¥ã€‚å…¬é’¥=ðŸ”’ï¼Œç§é’¥=ðŸ”‘
>
> æµç¨‹ï¼šå¦‚æžœæƒ³è¦ä»Žæœºå™¨Aå…å¯†ç™»å½•åˆ°æœºå™¨Bï¼Œå°±éœ€è¦æŠŠå…¬é’¥ï¼ˆðŸ”’ï¼‰æ”¾åˆ°æœºå™¨Bçš„ç‰¹å®šä½ç½®ï¼Œè€Œæœºå™¨Aæ‹¥æœ‰ç§é’¥ï¼ˆðŸ”‘ï¼‰çš„å®Œæ•´å‰¯æœ¬ã€‚å½“æœºå™¨Aæ‹¿ç€ç§é’¥ðŸ”‘åŽ»è®¿é—®æœºå™¨Bçš„æ—¶å€™ï¼Œæœºå™¨Bå‘çŽ°è‡ªå·±èº«ä¸Šæœ‰ä¸€æŠŠé”ðŸ”’ï¼ˆæœºå™¨Bå¯èƒ½æœ‰å¾ˆå¤šå…¬é’¥ðŸ”’ï¼‰å¯ä»¥è¢«æœºå™¨Açš„ç§é’¥ðŸ”‘æ‰“å¼€ï¼ŒäºŽæ˜¯ç»™æœºå™¨Aæ”¾è¡Œï¼Œç„¶åŽå°±å¯ä»¥ç™»å½•æˆåŠŸäº†ã€‚
>
> > å¦‚ä½•å¾—åˆ°è¯ä¹¦ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰
> >
> > 1. å‘æœåŠ¡å™¨ç®¡ç†å‘˜ç´¢å–ï¼Œä¸€èˆ¬ç´¢å–å¾—åˆ°çš„æ˜¯ç§é’¥ï¼Œè¿™æ ·å°±å¯ä»¥å…å¯†ç™»å½•åˆ°ä»»ä½•å­˜æ”¾äº†å…¬é’¥çš„æœåŠ¡å™¨äº†
> > 2. è‡ªå·±ç”Ÿæˆè¯ä¹¦ï¼ˆæ¯”å¦‚ä½¿ç”¨ssh-keygenï¼‰ï¼Œç„¶åŽæŠŠå…¬é’¥å­˜æ”¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨çš„å¯¹åº”ä½ç½®ï¼Œå°±å¯ä»¥å…å¯†ç™»å½•å¯¹åº”çš„æœåŠ¡å™¨äº†ã€‚
> >
> > ```
> > # é€šè¿‡ssh-keygenå¯ä»¥ç”Ÿæˆéœ€è¦çš„è¯ä¹¦
> > # ä¸€èˆ¬ä¸€è·¯æŒ‰enterå³å¯
> > # é»˜è®¤æƒ…å†µä¸‹ç”Ÿæˆç§é’¥---id_rsa å’Œ å…¬é’¥---id_rsa.pub
> > ssh-keygen
> > ```
>
> å…¬é’¥å­˜æ”¾ä½ç½®ï¼šå¯ä»¥æŠŠå…¬é’¥å­˜æ”¾åœ¨ä»»ä½•ä¸€ä¸ªç”¨æˆ·ç›®å½•çš„$HOME/.ssh/authorized_keysæ–‡ä»¶ä¸­ï¼Œæ¯”å¦‚ä½¿ç”¨å‘½ä»¤ï¼š`cat id_rsa.pub >> /home/user/.ssh/authorized_keys`ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ç§é’¥ä»¥userçš„åä¹‰ç™»å½•å¯¹åº”çš„æœåŠ¡å™¨äº†ã€‚

#### SSHå…å¯†ç™»å½•ä¸€èˆ¬æµç¨‹

> ä¸€.ç”ŸæˆPublishKey
>
> > å»ºè®®è®¾ç½®å¹¶ç‰¢è®°å¯†ç ï¼ˆpasssphraseï¼‰
>
> ```
>  ssh-keygen
> Generating public/private rsa key pair.
> Enter file in which to save the key (/home/vagrant/.ssh/id_rsa):
> Enter passphrase (empty for no passphrase):
> Enter same passphrase again:
> Your identification has been saved in /home/vagrant/.ssh/id_rsa.
> Your public key has been saved in /home/vagrant/.ssh/id_rsa.pub.
> The key fingerprint is:
> df:f5:d5:d8:e5:eb:fb:b6:3c:7c:b6:dd:e1:f5:72:eb vagrant@localhost
> The key's randomart image is:
> +--[ RSA 2048]----+
> |                 |
> |                 |
> |                .|
> |               +o|
> |        S     o =|
> |         . . . .o|
> |          . . .oo|
> |              =o@|
> |              .E&|
> +-----------------+
> ```
>
> äºŒ.å¤åˆ¶å¯†é’¥å¯¹
>
> > ```
> > 1.è‡ªåŠ¨å½¢å¼
> > # è‡ªåŠ¨å¤åˆ¶å…¬é’¥åˆ°æ— å¯†ç ç™»å½•åˆ°æœåŠ¡å™¨ä¸Š
> > ssh-copy-id -i ~/.ssh/id_rsa.pub user@host
> > 
> > 2.æ‰‹åŠ¨å½¢å¼
> > # æ‰‹åŠ¨å¤åˆ¶å…¬é’¥åˆ°æœåŠ¡å™¨
> > cat id_rsa.pub >> authorized_keys
> > 
> > # æ›´æ”¹æ–‡ä»¶æƒé™---ç¡®ä¿æ‰‹åŠ¨æ·»åŠ å…¬é’¥æ­£å¸¸ä½¿ç”¨
> > chmod 600 authorized_keys
> > chmod 700 ~/.ssh
> > ```
>
> ä¸‰.ä¿®æ”¹SSHé…ç½®æ–‡ä»¶ä»¥è®¾ç½®å…å¯†ç™»å½•
>
> ```
> # ç¼–è¾‘sshd_configæ–‡ä»¶
> vim /etc/ssh/sshd_config
> 
> # å…è®¸rootç”¨æˆ·é€šè¿‡SSHç™»å½•
> PermitRootLogin yes
> 
> # å¯ç”¨å¯†é’¥è®¤è¯
> RSAAuthentication yes
> PubkeyAuthentication yes
> 
> # ç¦ç”¨å¯†ç è®¤è¯
> PasswordAuthentication no
> 
> # æŒ‡å®šå…¬é’¥å­˜å‚¨æ–‡ä»¶
> AuthorizedKeysFile      .ssh/authorized_keys
> ```
>
> å››.é‡å¯SSHæœåŠ¡ä»¥åº”ç”¨æ›´æ”¹
>
> ```
> # RHEL/CentOS
> service sshd restart
> 
> # Ubuntu
> service ssh restart
> 
> # Debian
> /etc/init.d/ssh restart
> ```

#### å¼•ç”¨

> [è®¾ç½® SSH é€šè¿‡å¯†é’¥ç™»å½•](https://hyjk2000.github.io/2012/03/16/how-to-set-up-ssh-keys/)
>
> [[SSH ä½¿ç”¨å¯†é’¥ç™»å½•å¹¶ç¦æ­¢å£ä»¤ç™»å½•å®žè·µ](https://wsgzao.github.io/post/ssh/)](https://wsgzao.github.io/post/ssh/)
> [SSHåŽŸç†ä¸Žè¿ç”¨ï¼ˆä¸€ï¼‰ï¼šè¿œç¨‹ç™»å½•]([http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html](http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html))
>
> [Secure Shell](https://zh.wikipedia.org/wiki/Secure_Shell)



